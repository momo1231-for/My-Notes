## DHCP ALLOCATION PROCESS
The **DHCP allocation process** is actually one of the easiest ways to understand how the client-server model works in the real world.<p style="margin-bottom: 15px;">It all starts when a device (the **client**) joins a network and needs an IP address to communicate. Since it doesn’t have one yet, it sends out a **DHCP Discover** which is a **broadcast message** that includes its **MAC address**, basically asking, If there is any DHCP server out there that can help me get an **IP address**?</p><p style="margin-bottom: 15px;">Any **DHCP server** on the network that receives this will respond with a **DHCP Offer**. This is a message that includes an available **IP address** the client can use, along with some other network details like the subnet mask and default gateway.</p><p style="margin-bottom: 15px;">If the client decides to accept the offer (which it usually does), it sends back a **DHCP Request**. But if you're not sure why it rejected it [**click here**](https://github.com/momo1231-for/My-Notes/blob/main/Troubleshooting/DHCP%20OFFER%20REJECT%20SCENARIOS.md) for some reasons.</p><p style="margin-bottom: 15px;">After receiving the **DHCP REQUEST** the **server** sends back a **DHCP ACK (Acknowledgement)** message (packet) which just informs the **client** that it has updated it's records with the parameters sent in the **DHCP OFFER** to the **MAC Address** initially sent in the  **DHCP DISCOVER** message (packet)</p><p style="margin-bottom: 15px;">And just like that, the **client** has everything it needs to start communicating on the network.</p>
## *Simple Analogy*
A good way to understand it is to think of the DHCP allocation process like checking into a hotel.<p style="margin-bottom: 15px;">In this setup, the **client** is like a person checking into the hotel (in this case let's call the person Alex), and the **server** is the hotel receptionist.</p><p style="margin-bottom: 15px;">When **Alex** (the **client**) walks into a hotel without a reservation, the first thing he does is go to the front desk and ask, “Do you have any rooms available?” That’s like sending out a **DHCP Discover**—a broadcast message asking any DHCP **servers** if they have an IP address to give out.</p><p style="margin-bottom: 15px;">The hotel receptionist (**DHCP server**) replies with a **DHCP Offer**: “Yes, we have Room 204 available if you’d like it.” This offer includes the **room number** (IP address) and maybe some other details like check-out time or Wi-Fi access (subnet mask, gateway, etc.).</p><p style="margin-bottom: 15px;">If Alex is happy with the offer, He'll say, “Yes, I’ll take Room 204,” which is like the **DHCP Request**— the **client** telling the **server** "I want to use the IP address offered".</p><p style="margin-bottom: 15px;">The receptionist then finalizes Alex's check-in, puts down his name next to Room 204 in the booking system, and hands over the key. That’s the **DHCP ACK**, confirming the IP address is now officially the **client's** for a set period of time (the lease).</p><p style="margin-bottom: 15px;">And just like that, Alex is settled in—and the client is ready to communicate on the network.</p>
